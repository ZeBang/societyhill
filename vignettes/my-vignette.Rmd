---
title: "timeFA Package"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{my-vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Factor and Autoregressive Models for Tensor Time Series

The R package **timeFA** includes methods in our recent papers, including [Factor Models](https://arxiv.org/abs/1905.07530) and [Autoregressive Models](https://arxiv.org/abs/1812.08916) for High-Dimensional tensor Time Series. We demonstrate some examples for how to use our package here. To have more details please see the manual file for the full documentation.

#### Installation

Temporarily, we use GitHub to host this package source code then users can install the package directly from GitHub using the `install_github` function in the [devtools](https://github.com/r-lib/devtools#readme) package:
```{r, eval=FALSE}
library(devtools)
install_github("zebang/timeFA")
```


#### Autoregressive Models

We collect all estimation methods in one function `TAR`. So you can just use this single function to have all estimation methods you want to use.

For demonstration, we first randomly generate some coefficient matrices and tensor time series as follows,
```{r}
library(timeFA)
dim <- c(2,2,2) # dimension of tensor at time t is 2 * 2 * 2
A <- generate.A(dim, R=1) # randomly generate coefficient matrices with number of terms R = 1
xx <- generate(A, t=100) # generate tensor time series with AR(1) structure
```


Specify the estimation you want to use in function `TAR` by parameter `method`, which can be "lse" (Iterated least squares), "mle" (MLE under a structured covariance tensor), "projection" (Projection method), "ar" (stacked VAR(1) model). And specify you want to use multiple term model or one term model by parameter `r`. For example, if we want to estimate by LSE method under multiple term model with number of terms $r=2$, run as follows,

```{r}
result = TAR(xx, r=2, setting="lse")
```

The return of this function includes `A` (estimator of coefficient matrices), `res` (residual of the model), `Sig` (covariance matrix $cov(vec(E_t))$), and other parameters depends on the method you used. These parameters are storage in the form of a list, so you can use `$` to extract them,

```{r}
A.estimate = result$A
residual = result$res
Sigma = result$Sig
```


#### Factor Models
